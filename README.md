
# –û–±–∑–æ—Ä Mock Service Worker (MSW) 

* [–î–ª—è —á–µ–≥–æ](#–¥–ª—è-—á–µ–≥–æ)
* [–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç](#–∫–∞–∫-—ç—Ç–æ-—Ä–∞–±–æ—Ç–∞–µ—Ç)
* [–¢–µ—Ä–º–∏–Ω—ã –∏ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è](#—Ç–µ—Ä–º–∏–Ω—ã-–∏-—Å–æ–≥–ª–∞—à–µ–Ω–∏—è)
* [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
* [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MSW](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-msw)
* [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–ø—É—Å–∫–∞ MSW](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–∑–∞–ø—É—Å–∫–∞-msw)

## –î–ª—è —á–µ–≥–æ

Mock Service Worker (MSW) - —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–µ–π–∫–æ–≤—ã–µ (–º–æ–∫–æ–≤—ã–µ) —Å–µ—Ä–≤–µ—Ä—ã –∏ —ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å API-–∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã. 
–û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º —Å–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–æ–º, –Ω–µ –∑–∞–≤–∏—Å—è –æ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –±—ç–∫–µ–Ω–¥–∞.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MSW –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:

- **–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –±—ç–∫–µ–Ω–¥–∞** - MSW –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ —Ñ–µ–π–∫–æ–≤–æ–º—É —Å–µ—Ä–≤–µ—Ä—É, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –º–æ–∂–µ—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å.
- **–ü–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç—å –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å** - –° –ø–æ–º–æ—â—å—é MSW –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å —Ç–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –∏–ª–∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ñ–µ–π–∫–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å.
- **–ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏** - MSW –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–æ–∫–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏ –æ–ø–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–∫—Ç–∏–≤–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏. .
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** - MSW —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ –∏, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –Ω–∞–º–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º —Ä–µ–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä.
- **–ì–∏–±–∫–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - MSW –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≥–∏–±–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É —ç–º—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ API.

MSW —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º –æ—Ç —Å—Ä–µ–¥—ã, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.
–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ –ª—é–±–æ–º –±—Ä–∞—É–∑–µ—Ä–µ –∏–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å–µ Node.js –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π, –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ –∏–ª–∏ –ø–ª–∞–≥–∏–Ω–æ–≤.
–û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Ç–∏–ø–∞ HTTP requests (–≤–∫–ª—é—á–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ RESTful APIs) –∏ GraphQL API requests, –±—É–¥—å —Ç–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π `window.fetch()` –∏–ª–∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ `Axios`,` React Query` –∏–ª–∏ `Apollo`.

[‚¨Ü Back to Top](#–æ–±–∑–æ—Ä-mock-service-worker-msw)

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

Mock Service Worker (MSW) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —ç–º—É–ª—è—Ü–∏—é –∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. 

MSW –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π [Service Worker API](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API), –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ —Å–æ–±—ã—Ç–∏—é [fetch](https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent).
MSW —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç `Service Worker`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–µ—Ç –∏—Å—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏–µ [fetch](https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent) –∏ –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç —ç—Ç–∏ –∑–∞–ø—Ä–æ—Å—ã –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É, –≥–¥–µ –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞ (URL –∑–∞–ø—Ä–æ—Å–∞) –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ñ–∏–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–≤–µ—Ç, –µ—Å–ª–∏ —Ç–∞–∫–æ–≤–æ–π –∏–º–µ–µ—Ç—Å—è.

–°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è MSW –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö:

- **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** - –í –Ω–∞—á–∞–ª–µ –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å [npm-–ø–∞–∫–µ—Ç msw](https://mswjs.io/docs/getting-started#step-1-install). –í—ã —Ç–∞–∫–∂–µ –¥–æ–ª–∂–Ω—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å jest –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ (vitest) –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤.
- **–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è** - –í—ã —Å–æ–∑–¥–∞–µ—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è –≤–∞—à–µ–≥–æ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞. –û–±—ã—á–Ω–æ –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ `setupTests.js`, –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MSW.
- **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤** - –í –≤–∞—à–µ–º —Ç–µ—Å—Ç–æ–≤–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –≤—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ MSW, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–π –∏–ª–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫–∏—Ö –∫–∞–∫ REST API mocking.
- **–ó–∞–ø—É—Å–∫ MSW** - –í —Ç–µ—Å—Ç–æ–≤–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –≤—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç–µ MSW –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
- **–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤** - –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç–µ—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏, MSW –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å—ã, –∏ –≤–º–µ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏—Ö –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –∏—Ö –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è** - –í–Ω—É—Ç—Ä–∏ –≤–∞—à–∏—Ö —Ç–µ—Å—Ç–æ–≤ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–∞—à–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ñ–∞–ª—å—à–∏–≤—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –±—ã–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã, –∏ —á—Ç–æ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —ç—Ç–∏ –æ—Ç–≤–µ—Ç—ã.
- **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã** - –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤, MSW –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã.

[‚¨Ü Back to Top](#–æ–±–∑–æ—Ä-mock-service-worker-msw)

## –¢–µ—Ä–º–∏–Ω—ã –∏ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è

- **–ú–æ–∫-—Å–µ—Ä–≤–µ—Ä** - –≠—Ç–æ —ç–∫–∑–µ–º–ø–ª—è—Ä "—Ñ–∞–ª—å—à–∏–≤–æ–≥–æ" —Å–µ—Ä–≤–µ—Ä–∞ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º MSW, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è —ç–º—É–ª—è—Ü–∏–∏ –∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤–æ –≤—Ä–µ–º—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π;
- **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è** (routing) - –≠—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –∫–∞–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω—ã –∏ –æ—Ç–≤–µ—á–µ–Ω—ã –∏–º–µ–Ω–Ω–æ –º–æ–∫-—Å–µ—Ä–≤–µ—Ä–æ–º, –∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä. –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ URL-—à–∞–±–ª–æ–Ω–æ–≤ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–π;
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤** (request handlers) - –≠—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–¥–∞—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–∫-—Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞. –≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã, –∞ —Ç–∞–∫–∂–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ñ–∞–ª—å—à–∏–≤—ã–µ –¥–∞–Ω–Ω—ã–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Ç–∏–ø–∞ GET –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π URL, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–∞–¥–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç;
- **–§—É–Ω–∫—Ü–∏—è —Ä–µ–∑–æ–ª—å–≤–µ—Ä** (resolver function) - –≠—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–π –∑–∞–ø—Ä–æ—Å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç —Å –¥–∞–Ω–Ω—ã–º–∏;
- **–ó–∞–ø—Ä–æ—Å** (request) - –≠—Ç–æ HTTP-–∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –∫–ª–∏–µ–Ω—Ç–æ–º (–≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º) –∫ —Å–µ—Ä–≤–∏—Å—É. –ó–∞–ø—Ä–æ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–µ—Ç–æ–¥–µ (GET, POST, PUT, DELETE –∏ —Ç. –¥.), URL, –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö, –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –∏ —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞;
- **–û—Ç–≤–µ—Ç** (response) - –≠—Ç–æ HTTP-–æ—Ç–≤–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –º–æ–∫-—Å–µ—Ä–≤–µ—Ä–æ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É –∑–∞–ø—Ä–æ—Å–∞. –û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç–∞—Ç—É—Å–µ –æ—Ç–≤–µ—Ç–∞ (–∫–æ–¥ —Å–æ—Å—Ç–æ—è–Ω–∏—è), –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –∏ —Ç–µ–ª–µ –æ—Ç–≤–µ—Ç–∞;
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç** (context) - –≠—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –∑–∞–ø—Ä–æ—Å–µ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –∑–∞–ø—Ä–æ—Å–æ–º –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç–≤–µ—Ç—ã;
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** (settings) - –≠—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–∫-—Å–µ—Ä–≤–µ—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ. –≠—Ç–æ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ –∑–∞–¥–µ—Ä–∂–∫–∞ –æ—Ç–≤–µ—Ç–∞ (–¥–ª—è —ç–º—É–ª—è—Ü–∏–∏ –∑–∞–¥–µ—Ä–∂–µ–∫ —Å–µ—Ç–∏) –∏–ª–∏ —Ñ–ª–∞–≥, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π, –Ω—É–∂–Ω–æ –ª–∏ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ —Ä–µ–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä;

[‚¨Ü Back to Top](#–æ–±–∑–æ—Ä-mock-service-worker-msw)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ [Bulletproof React](https://github.com/alan2207/bulletproof-react)

> –ü—Ä–æ—Å—Ç–∞—è, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –∏ –º–æ—â–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–æ—Ç–æ–≤—ã—Ö –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π React.

–ë–æ–ª—å—à–∞—è —á–∞—Å—Ç—å –∫–æ–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ src –∏ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

```text
src
|
+-- app
|
+-- components
|
+-- config
|
+-- features
|
+-- lib
|
+-- providers
|
+-- routes
|
+-- test
```

- **app** - Root –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è;
- **components** - –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤–æ –≤—Å–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏;
- **config** - –í—Å—è –≥–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ env –∏ —Ç. –¥. —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –æ—Ç—Å—é–¥–∞ –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏;
- **features** - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏;
- **lib** - –†–µ—ç–∫—Å–ø–æ—Ä—Ç —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è;
- **providers** - –í—Å–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è;
- **routes** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤;
- **test** - –¢–µ—Å—Ç–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥—ã –∏ –º–æ–∫-—Å–µ—Ä–≤–µ—Ä–∞;

–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π (features) –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

```text
src/features/characters
|
+-- api 
|
+-- components
|
+-- routes
|
+-- types
|
+-- index.ts
```

- **api** - –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è API –∑–∞–ø—Ä–æ—Å–æ–≤  –∏ API —Ö—É–∫–æ–≤, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º—É –º–æ–¥—É–ª—é;
- **components** - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –º–æ–¥—É–ª–µ–º;
- **routes** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–∞–Ω–∞–ª–æ–≥ view/pages) –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –º–æ–¥—É–ª—è;
- **types** - typescript —Ç–∏–ø—ã –¥–ª—è TS –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –º–æ–¥—É–ª—è (–¥–æ–º–µ–Ω–∞);
- **index.ts** - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –º–æ–¥—É–ª—è, –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ —Å–ª—É–∂–∏—Ç—å –æ–±—â–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º API –¥–∞–Ω–Ω–æ–≥–æ –º–æ–¥—É–ª—è –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ, —á—Ç–æ –¥–æ–ª–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —ç—Ç–æ–≥–æ –º–æ–¥—É–ª—è;

–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `src/features/characters/components` –∏–º–µ—é—Ç—Å—è –¥–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `<CharactersList />` –∏ `<CharacterDetail />` –≤ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã–∑—ã–≤–∞—é—Ç—Å—è API –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:
- `getCharacters()` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ endpoint `https://rickandmortyapi.com/api/character` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π.  
- `getCharacter(characterId)` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ endpoint `https://rickandmortyapi.com/api/character/:characterId` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ –æ–¥–Ω–æ–º—É –ø–µ—Ä—Å–æ–Ω–∞–∂—É, –≥–¥–µ `charcaterId` —ç—Ç–æ `id` –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.

–ó–∞–¥–∞—á–∞ MSW –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å —ç—Ç–∏ –∑–∞–ø—Ä–æ—Å—ã –∏ –≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã —Å —Ñ–µ–π–∫–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

[‚¨Ü Back to Top](#–æ–±–∑–æ—Ä-mock-service-worker-msw)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MSW

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ MSW —á–µ—Ä–µ–∑ NPM –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É:

```shell
npm install msw --save-dev
```

–î–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ MSW —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤ `src/test`:

```text
src/test/server
|
+-- handlers
|   |
|   +---- character.ts
|   |
|   +---- index.ts
|
+-- db.ts
|
+-- index.ts
```

–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `handlers` –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ñ–∞–π–ª—ã —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤, –æ–¥–∏–Ω —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è –æ–¥–Ω–æ–≥–æ endpoint'—Ç–∞, –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ endpoint `character` —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Ñ–∞–π–ª–æ–º `character.ts`. 

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º–µ–Ω `http` –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –∏ –∏–º–∏—Ç–∞—Ü–∏–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤, –æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å–∞–º `GET`, `POST`, `UPDATE`, `PATCH`, `DELETE`, `OPTION`, –ø–æ–º–∏–º–æ —ç—Ç–æ–≥–æ –µ—â–µ –º–µ—Ç–æ–¥—ã `all` –∏ `head`.
–ö–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ –≤ `http` –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º —Å–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥—É HTTP-–∑–∞–ø—Ä–æ—Å–∞:

```js
http[method](predicate, resolver);
```
- **method** - –ú–µ—Ç–æ–¥ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –∏–º–µ–Ω `http` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥—É HTTP-–∑–∞–ø—Ä–æ—Å–∞: `get`, `post`, `update`, `path`, `delete`, `head` –∏ –Ω–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–µ—Ç–æ–¥ `all`;
- **predicate** - –ú–∞—Ä—à—Ä—É—Ç –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω, –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ —Å—Ä–µ–¥–µ Node.js —ç—Ç–æ –∞–±—Å–æ–ª—é—Ç–Ω—ã–π URL-–∞–¥—Ä–µ—Å –∑–∞–ø—Ä–æ—Å–∞;
- **resolver** - –§—É–Ω–∫—Ü–∏—è —Ä–µ–∑–æ–ª—å–≤–µ—Ä, –∫–æ—Ç–æ—Ä–∞—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è;

–ê—Ä–≥—É–º–µ–Ω—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∑–æ–ª—å–≤–µ—Ä–∞:

- **request** - –≠—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å [Request](https://developer.mozilla.org/en-US/docs/Web/API/Request) –∏–∑ Fetch API —è–≤–ª—è—é—â–∏–π—Å—è –∑–∞–ø—Ä–æ—Å–æ–º —Ä–µ—Å—É—Ä—Å–æ–≤ –∏–ª–∏ –¥–∞–Ω–Ω—ã—Ö;
- **params** - –≠—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è `character/:id` —ç—Ç–æ –±—É–¥–µ—Ç `const { id } = params`;
- **cookies** - –≠—Ç–æ –æ–±—ä–µ–∫—Ç cookies –≤ –∑–∞–ø—Ä–æ—Å–µ;

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤–æ–∑–º–æ–∂–Ω—ã–π –∫–æ–¥ —Ñ–∞–π–ª–∞ `character.ts`, —Å –¥–≤—É–º—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è endpoint'—Ç–∞ `/character`:

```ts
// src/test/server/handlers/character.ts
import { http, HttpResponse } from 'msw';

import { db } from '../db';

export const character = [
  // Get all items
  http.get('https://rickandmortyapi.com/api/character', () => {
    return HttpResponse.json({
      results: db.characters,
    });
  }),

  // Get an item by id
  http.get('https://rickandmortyapi.com/api/character/:id', () => {
    return HttpResponse.json(db.characters[0]);
  }),
];
```
–≠—Ç–æ –º–∞—Å—Å–∏–≤ —Å –¥–≤—É–º—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è —Ä–µ–∑–æ–ª—å–≤–µ—Ä –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤. 

–ö–ª–∞—Å—Å `HttpResponse` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∑–∞–º–µ–Ω—É Fetch API Response, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—É—é –¥–ª—è –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π API, —Ç–∞–∫–∏—Ö –∫–∞–∫ –∏–º–∏—Ç–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ cookie –æ—Ç–≤–µ—Ç–∞.
–í—ã–∑–æ–≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–µ—Ç–æ–¥–∞ `HttpResponse.json()` —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:

- –î–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Å `/character` —ç—Ç–æ –±—É–¥–µ—Ç —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ (—Ñ–µ–π–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ);
- –î–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Å `/character/:id` —ç—Ç–æ –±—É–¥–µ—Ç –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤;

> `db` - —ç—Ç–æ —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–¥–µ—Ä–∂–∞—â–∞—è —Ñ–µ–π–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–æ–≤.

–§–∞–π–ª `src/test/server/handlers/index.ts` –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ –º–∞—Å—Å–∏–≤—ã —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –≤ –æ–¥–∏–Ω –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `setupServer()`:

```ts
// src/test/server/handlers/index.ts
import { character } from './character';

export const handlers = [...character];
```

–§–∞–π–ª `src/test/server/index.ts` —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ MSW —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ [setupServer()](https://mswjs.io/docs/api/setup-server):

```ts
// src/test/server/handlers/index.ts
import { setupServer } from 'msw/node';

import { handlers } from './handlers';

export { db } from './db';

export const server = setupServer(...handlers);
```

–§—É–Ω–∫—Ü–∏—è `setupServer()` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç - —Å–ø–∏—Å–æ–∫ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ `Array<RequestHandler>` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `setupServer()` –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ [setupWorker()](https://mswjs.io/docs/api/setup-worker/).
–í—Å–µ —Å–≤–æ–¥–∏—Ç—Å—è –∫ —Ç–æ–º—É, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –µ–º—É —Å–ø–∏—Å–æ–∫ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç –∑–∞–ø—Ä–æ—Å–æ–≤.

> –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å `setupWorker()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å—Ä–µ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ `setupServer()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ Node.js.

[‚¨Ü Back to Top](#–æ–±–∑–æ—Ä-mock-service-worker-msw)

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–ø—É—Å–∫–∞ MSW

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—ã –æ–ø–∏—Å–∞–ª–∏ –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ `Vitest`, 
–¥–ª—è —ç—Ç–æ–≥–æ –≤–Ω–µ—Å–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª `setupTests.ts` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å—Ä–µ–¥—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```ts
// src/test/setupTests.ts
import '@testing-library/jest-dom';
import { cleanup } from '@testing-library/react';

import { server } from './server';
import { initializeDb } from './server/db';
import { characterGenerator } from './data-generators';

// –í–∫–ª—é—á–∏—Ç—å –∏–º–∏—Ç–∞—Ü–∏—é API –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Ç–µ—Å—Ç–∞–º–∏.
beforeAll(() => {
  // –ò–Ω–∏—Ü–∏–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã —Å —Ñ–µ–π–∫–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
  initializeDb([characterGenerator(), characterGenerator()]);

  server.listen();
});

// –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Ç–µ—Å—Ç–æ–≤.
afterEach(() => {
  cleanup();
  
  server.resetHandlers();
});

// –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∏–º–∏—Ç–∞—Ü–∏–∏ API –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤.
afterAll(() => {
  server.close();
});
```

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—ã –ø—Ä–æ–ø–∏—Å–∞–ª–∏ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ñ–∞–π–ª–µ `setupTests.ts` –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã.

–ì–æ—Ç–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `./src` —Ç–µ–∫—É—â–µ–π –≤–µ—Ç–∫–∏ `react-testing-msw`.

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–º–µ—Ä–∞ —Å –≥–æ—Ç–æ–≤—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã:

```shell
git clone https://github.com/shopot/react-101.git

git checkout react-testing-msw

npm install

npm run test:verbose

npm run coverage 
```

[‚¨Ü Back to Top](#–æ–±–∑–æ—Ä-mock-service-worker-msw)

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–µ–º–µ:

- üîó [Mock Service Worker](https://mswjs.io/docs/)
- üîó [Vitest Testing Framework](https://vitest.dev/guide/)
- üîó [Fake data generator library](https://fakerjs.dev/guide/)


[‚¨Ü Back to Top](#–æ–±–∑–æ—Ä-mock-service-worker-msw)
