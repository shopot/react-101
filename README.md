# –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å Zustand


üìö –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å Zustand](#–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ-—Å-zustand)
  - [–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ](#–æ–±—â–µ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ)
  - [–¢–µ—Ä–º–∏–Ω—ã –∏ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è](#—Ç–µ—Ä–º–∏–Ω—ã-–∏-—Å–æ–≥–ª–∞—à–µ–Ω–∏—è)
  - [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
  - [–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è Store](#—Å–æ–∑–¥–∞–Ω–∏–µ-—Å–æ—Å—Ç–æ—è–Ω–∏—è-store)
    - [–ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å  –∏ —Å–ª–∏—è–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è](#–∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å--–∏-—Å–ª–∏—è–Ω–∏–µ-—Å–æ—Å—Ç–æ—è–Ω–∏—è)
    - [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ get/getState](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-getgetstate)
  - [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-—Å–æ—Å—Ç–æ—è–Ω–∏—è-–≤-react-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö)
  - [–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤](#–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è-—Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤)
  - [–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (Async actions)](#–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–¥–µ–π—Å—Ç–≤–∏—è-async-actions)
  - [–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ (props)](#–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è-—Å–æ—Å—Ç–æ—è–Ω–∏–µ-—Å-–ø–æ–º–æ—â—å—é-—Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤-props)
  - [–ö–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ](#–∫–∞–∫-—Å–±—Ä–æ—Å–∏—Ç—å-—Å–æ—Å—Ç–æ—è–Ω–∏–µ)
  - [Best practices](#best-practices)
    - [Single store](#single-store)
    - [Slices Pattern (multiple stores)](#slices-pattern-multiple-stores)
    - [–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ set/setState –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è](#–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ-setsetstate-–¥–ª—è-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è-—Å–æ—Å—Ç–æ—è–Ω–∏—è)
    - [–†–∞–∑–º–µ—â–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏-–¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ Store](#—Ä–∞–∑–º–µ—â–∞–π—Ç–µ-—Ñ—É–Ω–∫—Ü–∏–∏-–¥–µ–π—Å—Ç–≤–∏—è-–¥–ª—è-–∏–∑–º–µ–Ω–µ–Ω–∏—è-—Å–æ—Å—Ç–æ—è–Ω–∏—è-–≤–Ω—É—Ç—Ä–∏-store)
    - [Splitting code (No store actions pattern)](#splitting-code-no-store-actions-pattern)
  - [–ü—Ä–∏–º–µ—Ä Todos](#–ø—Ä–∏–º–µ—Ä-todos)


## –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

![GitHub Repo stars](https://img.shields.io/github/stars/pmndrs/zustand%20?style=social&label=Zustand&link=https%3A%2F%2Fgithub.com%2Fpmndrs%2Fzustand)


Zustand - —ç—Ç–æ –Ω–µ–±–æ–ª—å—à–æ–µ, –±—ã—Å—Ç—Ä–æ–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (—Ç–∞–∫ –∂–µ –µ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Vanilla JS) –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö Flux –∏ immutable state.
Zustand –∏–º–µ–µ—Ç —É–¥–æ–±–Ω—ã–π API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å React, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ —Ö—É–∫–∞—Ö.
–ù–µ –∏–º–µ–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å Zombie children –∏ context loss –∏ –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ React concurrency mode.

–ï–≥–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∞–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ publish/subscribe –æ–±—ä–µ–∫—Ç–µ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ö—É–∫–∞ –¥–ª—è React.

–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:

https://docs.pmnd.rs/zustand/getting-started/introduction

–°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π github:

https://github.com/pmndrs/zustand

## –¢–µ—Ä–º–∏–Ω—ã –∏ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è

- **–î–µ–π—Å—Ç–≤–∏—è (actions)** - –≠—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º—É—Ç–∏—Ä—É—é—Ç (–æ–±–Ω–æ–≤–ª—è—é—Ç) –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è.
- **Store-–æ–±—ä–µ–∫—Ç (—Å–æ—Å—Ç–æ—è–Ω–∏–µ, —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)** - –≠—Ç–æ –æ–±—ä–µ–∫—Ç –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –≤–æ–∑–º–æ–∂–Ω–æ –¥–µ–π—Å—Ç–≤–∏—è (actions), –¥—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏ —ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (state) –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- **Pub/Sub** - –û–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –ø–æ –º–æ–¥–µ–ª–∏ "–∏–∑–¥–∞—Ç–µ–ª—å ‚Äì –ø–æ–¥–ø–∏—Å—á–∏–∫", —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π —à–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–¥–∞—á–∏ —Å–æ–æ–±—â–µ–Ω–∏–π.

‚¨Ü [Back to Top](#–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ-—Å-zustand)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

Zustand –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –≤–∏–¥–µ –ø–∞–∫–µ—Ç–∞ –Ω–∞ NPM, –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è TypeScript:

```shell
# NPM
npm install zustand
```

‚¨Ü [Back to Top](#–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ-—Å-zustand)

## –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è Store

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Zustand Store –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π `create` –∏–∑ –ø–∞–∫–µ—Ç–∞ `zustand`:

```ts
import { create } from 'zustand'

const usStoreHook = create((set, get) => { /*... store config ...*/ });
```

–§—É–Ω–∫—Ü–∏—è `create` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∫–æ–ª–±—ç–∫-—Ñ—É–Ω–∫—Ü–∏—é **StateCreator**, –∫–æ—Ç–æ—Ä–∞—è –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ–±—ä–µ–∫—Ç –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π Store (—Å—Ç–æ—è–Ω–∏–µ).

```ts
// –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å–∏–≥–Ω–∞—Ç—É—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏ zustand.create
create<T>(initializer: StateCreator<T>): UseBoundStore<StoreApi<T>>
```

–†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ `create` –±—É–¥–µ—Ç —Ö—É–∫ (—Ñ—É–Ω–∫—Ü–∏—è), –∫–æ—Ç–æ—Ä–∞—è —Ç–∞–∫ –∂–µ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å `StoreApi` –≤ –≤–∏–¥–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤:

```ts
interface StoreApi<T> {
    setState: SetStateInternal<T>;
    getState: () => T;
    getInitialState: () => T;
    subscribe: (listener: (state: T, prevState: T) => void) => () => void;
}
```

–í –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å—á–µ—Ç—á–∏–∫–∞:

```ts
const counter = {
  value: 0,

  increment() {
    this.value ++;
  },

  decrement() {
    this.value --
  }
}
```
–≠—Ç–æ –æ–±—ã—á–Ω—ã–π –æ–±—ä–µ–∫—Ç –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ JavaScript (TypeScript), —Å –æ–¥–Ω–∏–º –ø–æ–ª–µ–º `value` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –¥–≤—É–º—è –º–µ—Ç–æ–¥–∞–º–∏ `increment`  –∏ `decrement` (actions).

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Store —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ `create`, –Ω–∞–ª–∏—á–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ `this` –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–∞ –¥–æ–ª–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã `setState` –∏ `getState`, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –∫–æ–ª–±—ç–∫-—Ñ—É–Ω–∫—Ü–∏—é **StateCreator**:

```ts
import { create } from 'zustand';

type StateType = {
  value: number;
}

type ActionType = {
  increment: () => void;
  decrement: () => void;
}

// –ó–¥–µ—Å—å –º–µ—Ç–æ–¥ setState() –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞–∫ set()
const useCounterStore = create<StateType & ActionType>((set) => {
  return {
    value: 0, // –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

    // –î–µ–π—Å—Ç–≤–∏—è (actions) –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Å–æ—Å—Ç–æ—è–Ω–∏—è
    increment: () => set((state) => ({value: state.value + 1})),
    decrement: () => set((state) => ({value: state.value - 1}))
  }
})
```

‚¨Ü [Back to Top](#–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ-—Å-zustand)

### –ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å  –∏ —Å–ª–∏—è–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–ú–µ—Ç–æ–¥ `set()` –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `useCounterStore` —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ –∫–∞–∫ –∏ —Ñ—É–Ω–∫—Ü–∏—è —Å–µ—Ç—Ç–µ—Ä –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —Ö—É–∫–∞ `useState`:

```ts
const [counter, setCounter] = useState({value: 0})
//...

const  handleClick = () => {
  setAge((prevState) => {
    return {
      ...prevState
      value: prevState.value + 1
    };
  });
}
```

–ß—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ –∑–∞–ø–∏—Å–∏:

```ts
// –ú–µ—Ç–æ–¥ setState
// set((state) => ({value: state.value +1})
set((state) => {
  return {
    ...state,
    value: state.value + 1
  }
})
```

–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω —Ä–∞–±–æ—Ç—ã —Å –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.

> –ù–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º (–∞–Ω–≥–ª. immutable) –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω–æ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è. –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –ª—é–±–æ–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–∞–∫–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç, –ø—Ä–∏ —ç—Ç–æ–º —Å—Ç–∞—Ä—ã–π –æ–±—ä–µ–∫—Ç –Ω–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è.

–¢–æ –µ—Å—Ç—å –ø—Ä–∏ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –º–µ—Ç–æ–¥ `set()` –≤–µ—Ä–Ω–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Å –Ω–æ–≤—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.

–í –ø—Ä–∏–º–µ—Ä–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `useCounterStore` –º–µ—Ç–æ–¥ `increment` –∫–∞–∫ –∏ `decrement`

```ts
set((state) => ({value: state.value + 1}))
```
–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–¥—Ö–æ–¥ –Ω–µ–≥–ª—É–±–æ–∫–æ–≥–æ —Å–ª–∏—è–Ω–∏—è - **shallowly merged**, –≥–¥–µ `set()` —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ, —Ç–æ –µ—Å—Ç—å **Zustand** –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–Ω—è—Ç—å —á–∞—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–µ–∑ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –∑–∞–º–µ–Ω—ã –≤—Å–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –∫–∞–∫ –≤ —Å–ª—É—á–∞–µ —Å –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.

–ü—Ä–∏–º–µ—Ä –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–π —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:

```ts
import { create } from 'zustand';

type StateType = {
  firstName: string
  lastName: string
}

type ActionType = {
  updateFirstName: (firstName: StateType['firstName']) => void
  updateLastName: (lastName: StateType['lastName']) => void
}

// –°–æ–∑–¥–∞–Ω–∏–µ Store, –∫–æ—Ç–æ—Ä–æ–µ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) –¥–µ–π—Å—Ç–≤–∏—è
const usePersonStore = create<StateType & ActionType>((set) => ({
  firstName: '',
  lastName: '',
  updateFirstName: (firstName) => set(() => ({ firstName: firstName })),
  updateLastName: (lastName) => set(() => ({ lastName: lastName })),
}))
```

–ß—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–ª–∏—è–Ω–∏—è, –≤—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–º–µ–Ω—ã –¥–ª—è –Ω–∞–±–æ—Ä–∞ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```ts
set((state) => newState, true)
```
 –í—Ç–æ—Ä—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –≤ `set()` –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞ `bool` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –≤ `true`.

‚¨Ü [Back to Top](#–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ-—Å-zustand)

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ get/getState

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ `set()` –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ç–µ–∫—É—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é `set(state => result)`, —É –≤–∞—Å —Ç–∞–∫ –∂–µ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é –∑–∞ –µ–≥–æ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —á–µ—Ä–µ–∑ `get()`:

```ts
const useSoundStore = create<SoundStoreType>((set, get) => ({
  sound: 'grunt',
  someAction: () => {
    const sound = get().sound
    ...
```

‚¨Ü [Back to Top](#–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ-—Å-zustand)

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ –±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –¥–µ–π—Å—Ç–≤–∏—è, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö—É–∫ –≥–¥–µ —É–≥–æ–¥–Ω–æ, –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞–∫–∏—Ö –ª–∏–±–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:

```ts
import type { JSX } from 'react';
import { useCounterStore } from './counter-store'

const MyCounter = (): JSX.Element => {
  const counter = useCounterStore((state) => state.value);

  return <h1>{counter} around here...</h1>;
}

const MyCounterControl = (): JSX.Element => {
  /* const [increment, decrement]
      = useCounterStore(({increment, decrement}) => [increment, decrement]);*/
  const increment = useCounterStore((state) => state.increment);
  const decrement = useCounterStore((state) => state.decrement);

  return (
    <>
      <button onClick={increment}>One up</button>
      <button onClick={decrement}>One down</button>
    </>
  );
}
```

‚¨Ü [Back to Top](#–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ-—Å-zustand)

## –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤

–ü–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π —á–µ—Ä–µ–∑ —Å–µ–ª–µ–∫—Ç–æ—Ä —Ö—É–∫–∞ –≤–∏–¥–∞:

```ts
const counter = useCounterStore((state) => state.value);
```
–º–æ–∂–µ—Ç –±—ã—Ç—å —É—Ç–æ–º–∏—Ç–µ–ª—å–Ω—ã–º, –µ—Å–ª–∏ —ç—Ç–æ —Ç–∞–∫, –≤—ã –º–æ–∂–µ—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –æ–ø—Ä–µ–¥–µ–ª–∏–≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é-–æ–±–µ—Ä—Ç–∫—É `createSelectors`:

```ts
// utils/store.ts
import {UseBoundStore, StoreApi } from 'zustand';

export type WithSelectors<S> = S extends { getState: () => infer T } ? S & { use: { [K in keyof T]: () => T[K] } } : never;

export const createSelectors = <S extends UseBoundStore<StoreApi<object>>>(_store: S) => {
  const store = _store as WithSelectors<typeof _store>;

  store.use = {};

  for (const k of Object.keys(store.getState())) {
    (store.use as Record<string, () => unknown>)[k] = () => store((s) => s[k as keyof typeof s]);
  }
```

–ü—Ä–∏–º–µ—Ä —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `createSelectors`:

```ts
import { create } from 'zustand';
import { createSelectors } from 'utils/store';

const useCounterStore = create<CounterStateType>(() => ({ value: 0 }));

const counterStore = createSelectors(useCounterStore);

// ...
const MyCounterValue = (): JSX.Element => {
  const count = counterStore.use.value();

  return (
    <h1>Count is {count}</h1>
  );
};
```

–¢–µ–ø–µ—Ä—å —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∏ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –∫ –Ω–∏–º –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ `use`, –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ç–∞–∫ –∏ –∫–∞–∫ –¥–µ–π—Å—Ç–≤–∏—è–º –µ—Å–ª–∏ –æ–Ω–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤–Ω—É—Ç—Ä–∏ —Å—Ç–æ—Ä–∞.

‚¨Ü [Back to Top](#–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ-—Å-zustand)


## –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (Async actions)

–î–ª—è Zustand –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è, —è–≤–ª—è—é—Ç—Å—è –ª–∏ –≤–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –∏–ª–∏ –Ω–µ—Ç, –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—ã–∑–æ–≤—ã API –∫–∞–∫ –æ–±—ã—á–Ω–æ –∏ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –≥–æ—Ç–æ–≤—ã:

```ts
// ...
const usePostStore = create<PostStoreType>((set) => ({
  posts: PostType[],
  isLoading: false,

  fetchItems: async (url: string) => {
    set({isLoading: true});

    try {
      const response = await fetch(url)

      set({ posts:  (await response.json()) as PostType[], isLoading: false})
    } catch {
      set({isLoading: false});
    }
  },
}))
```

‚¨Ü [Back to Top](#–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ-—Å-zustand)

## –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ (props)

–í —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º–∏ –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å `React.Context`.

–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

https://docs.pmnd.rs/zustand/guides/initialize-state-with-props

–í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω–æ–≥–æ –∫–µ–π—Å–∞ –±—É–¥–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç —Ç–æ–≥–æ, —á—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, —ç—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –ø—Ä–∏—Ä–æ–¥–æ–π `React.Context`, –ª—É—á—à–µ–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [Splitting code (No store actions pattern)](#splitting-code-no-store-actions-pattern) —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å `React.Context`.
–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –æ—Ç–¥–µ–ª–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –æ—Ç —Å–∞–º–æ–≥–æ —Å—Ç–æ—Ä–∞ –∏ —Ç–æ–≥–¥–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å—Ç–æ—Ä–∞  –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –Ω–µ –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –º—É—Ç–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

‚¨Ü [Back to Top](#–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ-—Å-zustand)

## –ö–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–ü—Ä–∏–º–µ—Ä —Å–±—Ä–æ—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–æ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è:

```ts
import { create } from 'zustand'

type CounterStateType = {
  value: number;
  // ...
}

const initialState: CounterStateType = {
  value: 0,
}

const useCounterStore = create<CounterStateType>((set) => {
  return {
    value: 0, // –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
    // ...
    reset: () => set(initialState),
  }
})
```

–ë–æ–ª—å—à–µ –ø—Ä–∏–º–µ—Ä–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

https://docs.pmnd.rs/zustand/guides/how-to-reset-state

‚¨Ü [Back to Top](#–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ-—Å-zustand)

## Best practices

### Single store

–ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∞—à–µ–≥–æ React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–æ –≤ –æ–¥–Ω–æ–º Zustand Store.

–ï—Å–ª–∏ —É –≤–∞—Å –±–æ–ª—å—à–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ—Ö–æ–¥ **Slices Pattern**, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏.

‚¨Ü [Back to Top](#–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ-—Å-zustand)

### Slices Pattern (multiple stores)

–í—ã –º–æ–∂–µ—Ç–µ —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Å–≤–æ–π –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–æ—Ä –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç–æ—Ä—ã –º–µ–Ω—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å—é, —á—Ç–æ–±—ã –¥–æ–±–∏—Ç—å—Å—è –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏.

–ü–µ—Ä–≤—ã–π store –¥–ª—è –º–æ–¥—É–ª—è Fish:

```ts
// ..module/fish/fish-store-slice.ts
import { StateCreator } from 'zustand'

export type FishSliceType = {
  fishes: number
  addFish: () => void
}

export const createFishSlice: StateCreator<FishSliceType, [], [], FishSliceType> = (set) => ({
  fishes: 0,
  addFish: () => set((state) => ({ fishes: state.fishes + 1 })),
})
```

–°–ª–µ–¥—É—é—â–∏–π store –¥–ª—è –º–æ–¥—É–ª—è Bear:

```ts
// ..module/bear/bear-store-slice.ts
import { StateCreator } from 'zustand'

export type BearSliceType = {
  bears: number
  addBear: () => void
}

export const createBearSlice: StateCreator<BearSliceType, [], [], BearSliceType> = (set) => ({
  bears: 0,
  addBear: () => set((state) => ({ bears: state.bears + 1 })),
})
```

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –æ–±–∞ —Å—Ç–æ—Ä–∞ –≤ –æ–¥–∏–Ω bounded store:

```ts
// stores/use-bound-store.ts
import {type FishSliceType, createFishSlice} from '...';
import {type BearSliceType, createBearSlice} from '...';

export const useBoundStore = create<BearSlice & FishSlice>()((...a) => ({
  ...createBearSlice(...a),
  ...createFishSlice(...a),
}))
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ bounded store –≤ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:

```ts
import { type JSX } from 'react';
import { useBoundStore } from './stores/use-bound-store';

const App = (): JSX.Element {
  const bears = useBoundStore((state) => state.bears);
  const fishes = useBoundStore((state) => state.fishes);
  const addBear = useBoundStore((state) => state.addBear);

 return (
    <div>
      <h2>Number of bears: {bears}</h2>
      <h2>Number of fishes: {fishes}</h2>
      <button onClick={() => addBear()}>Add a bear</button>
    </div>
  )
}
```

–í –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É —Å–ª–∞–π—Å–∞–º–∏ –∏ –ø—Ä–∏–º–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º—É–ª—å—Ç–∏-—Å—Ç–æ—Ä–∞.

https://docs.pmnd.rs/zustand/guides/slices-pattern

‚¨Ü [Back to Top](#–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ-—Å-zustand)

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ set/setState –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `set()` (–∏–ª–∏ `setState()`) –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–∞—à–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è. `set()`(–∏ `setState()`) –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ (–ø–∞—Ç—Ç–µ—Ä–Ω Pub/Sub).

‚¨Ü [Back to Top](#–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ-—Å-zustand)

### –†–∞–∑–º–µ—â–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏-–¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ Store

–í Zustand, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–æ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—ã–∑–æ–≤–∞ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–≤ (dispatch action) –∏ —Ñ—É–Ω–∫—Ü–∏–π-—Ä–µ–¥—é—Å–æ—Ä–æ–≤ (reducers), –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥—Ä—É–≥–∏—Ö Flux-–ø–æ–¥–æ–±–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö.

–§—É–Ω–∫—Ü–∏–∏-–¥–µ–π—Å—Ç–≤–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞–ø—Ä—è–º—É—é –≤ Store, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂–µ.

```ts
const useBoundStore = create((set) => ({
  storeSliceA: ...,
  storeSliceB: ...,
  storeSliceC: ...,
  updateX: () => set(...),
  updateY: () => set(...),
}))
```

‚¨Ü [Back to Top](#–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ-—Å-zustand)

### Splitting code (No store actions pattern)

–û—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ Zustund –∑–≤—É—á–∏—Ç —Ç–∞–∫:

> –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ - —Å–æ–≤–º–µ—â–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ Store (–ø—É—Å—Ç—å –≤–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è –±—É–¥—É—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –≤–º–µ—Å—Ç–µ —Å –≤–∞—à–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º).

–¢–µ–º –Ω–µ –º–µ–Ω–µ–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º, –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è, –≤–Ω–µ—à–Ω–µ–≥–æ –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ store.

–ü—Ä–∏–º–µ—Ä —Å Counter:

```ts
// counter/stores/counter-store.ts
import { create } from 'zustand';

export type CounterStateType = {
  value: number;
};

export const useCounterStore = create<CounterStateType>(() => ({ value: 0 }));
```

–ú–æ–¥—É–ª—å —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –¥–µ–π—Å—Ç–≤–∏–π:

```ts
// counter/stores/counter-actions.ts
import { useCounterStore } from './counter-store';

export type CounterActionType = {
  increment: () => void;
  decrement: () => void;
};

export const increment = () => useCounterStore.setState((s) => ({ value: s.value + 1 }));

export const decrement = () => useCounterStore.setState((s) => ({ value: s.value + 1 }));
```

Public API –¥–ª—è `counter/stores`
```ts
// counter/stores/index.ts
import { UseBoundStore, StoreApi } from 'zustand';

import { type CounterStateType } from './counter-store';
import { type CounterActionType } from './counter-actions';

export * from './counter-store';
export * from './counter-actions';

// –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ç–∏–ø –¥–ª—è —Å—Ç–æ—Ä–∞ –≤–∫–ª—é—á–∞—é—â–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –¥–µ–π—Å—Ç–≤–∏—è
export type CounterStoreType = UseBoundStore<StoreApi<CounterStateType & CounterActionType>>;
```

–ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞ –¥–µ–π—Å—Ç–≤–∏—è –≤–Ω—É—Ç—Ä–∏ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:

```ts
// counter/components/my-counter-controls.tsx
import type { JSX } from 'react';
import { increment, decrement } from '../stores'

const MyCounterControl = (): JSX.Element => (
  <>
    <button onClick={increment}>One up</button>
    <button onClick={decrement}>One down</button>
  </>
);
```

–≠—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –∏–º–µ–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤:
- –î–ª—è –≤—ã–∑–æ–≤–∞ –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ö—É–∫;
- –û–±–ª–µ–≥—á–∞–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞.

–ò–Ω–æ–≥–¥–∞ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –æ—Ç —Å—Ç–æ—Ä–∞ –¥–µ–ª–∞–µ—Ç—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–≥–æ –º–æ–¥—É–ª—è (—Ñ–∞–π–ª–∞), —Ç–æ –µ—Å—Ç—å –±–µ–∑ —Ä–∞—Å–∫–∏–¥—ã–≤–∞–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π —Å—Ç–æ—Ä–∞ –ø–æ —Ä–∞–∑–Ω—ã–º —Ñ–∞–π–ª–∞–º, —Ç–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –Ω–µ –º–µ–µ —á–∞—Å—Ç–æ, —á–µ–º –≤–∞—Ä–∏–∞–Ω—Ç —Å —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º –¥–µ–π—Å—Ç–≤–∏–π –≤–Ω—É—Ç—Ä–∏ —Å—Ç–æ—Ä–∞.

‚¨Ü [Back to Top](#–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ-—Å-zustand)

## –ü—Ä–∏–º–µ—Ä Todos

```shell
# Clone repository
git clone https://github.com/shopot/react-101.git

cd ./react-101

git checkout zustand

# Install packages
npm install

# Run application
npm run dev
```
